<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGIK-PROJEKT TEMPLATE GENERATOR</title>
    <style>
        body {
            /* font-family: Arial, sans-serif; */
            font-family: monospace;
            margin: 24px;
        }
        .container {
            max-width: 720px;
            margin: 0 auto;
        }
        .pair {
            margin-bottom: 12px;
        }
        .pair label {
            display: inline-block;
            width: 132px;
        }
        .pair input,
        .pair select {
            width: calc(100% - 168px);
            padding: 8px;
        }
        .button-container {
            text-align: center;
            margin-top: 24px;
        }
        .summary-container {
            margin-top: 24px;
            border-top: 1px solid #ccc;
            padding-top: 12px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>LOGIK-PROJEKT TEMPLATE GENERATOR</h1>
        <div class="pairs">
            <div class="pair">
                <label for="client_name">Client:</label>
                <input 
                    type="text" 
                    id="client_name" 
                    placeholder="Enter Client Name" 
                    oninput="updateSummary()"
                >
            </div>
            <div class="pair">
                <label for="campaign_name">Campaign:</label>
                <input 
                    type="text" 
                    id="campaign_name" 
                    placeholder="Enter Campaign Name" 
                    oninput="updateSummary()"
                >
            </div>
            <div class="pair">
                <label for="projekt_resolution">Resolution:</label>
                <select id="projekt_resolution" onchange="updateResolution()">
                    <option disabled>──────────</option>
                    <option value="1920 x 1080">1920 x 1080 HD</option>
                    <option disabled>──────────</option>
                    <option value="3840 x 2160">3840 x 2160 UHD</option>
                    <option disabled>──────────</option>
                    <option value="4096 x 2160">4096 x 2160 4k UHD</option>
                    <option disabled>──────────</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="pair hidden" id="custom_resolution_w">
                <label for="projekt_resolution_w">Resolution Width:</label>
                <input 
                    type="text" 
                    id="projekt_resolution_w" 
                    placeholder="enter width" 
                    oninput="updateSummary()"
                >
            </div>
            <div class="pair hidden" id="custom_resolution_h">
                <label for="projekt_resolution_h">Resolution Height:</label>
                <input 
                    type="text" 
                    id="projekt_resolution_h" 
                    placeholder="enter height" 
                    oninput="updateSummary()"
                >
            </div>
            <div class="pair">
                <label for="projekt_bit_depth">Bit-Depth:</label>
                <select id="projekt_bit_depth" onchange="updateSummary()">
                    <option disabled>──────────</option>
                    <option value="16-bit fp">16-bit fp</option>
                    <option disabled>──────────</option>
                    <option value="32-bit fp">32-bit fp</option>
                    <option disabled>──────────</option>
                    <option value="12-bit">12-bit</option>
                    <option disabled>──────────</option>
                    <option value="10-bit">10-bit</option>
                    <option disabled>──────────</option>
                    <option value="8-bit">8-bit</option>
                    <option disabled>──────────</option>
                </select>
            </div>
            <div class="pair">
                <label for="projekt_framerate">Framerate:</label>
                <select id="projekt_framerate" onchange="updateSummary()">
                    <option disabled>──────────</option>
                    <option value="23.976 fps">23.976 fps</option>
                    <option disabled>──────────</option>
                    <option value="24 fps">24 fps</option>
                    <option disabled>──────────</option>
                    <option value="25 fps">25 fps</option>
                    <option disabled>──────────</option>
                    <option value="29.97 fps">29.97 fps</option>
                    <option disabled>──────────</option>
                    <option value="30 fps">30 fps</option>
                    <option disabled>──────────</option>
                    <option value="50 fps">50 fps</option>
                    <option disabled>──────────</option>
                    <option value="59.94 fps">59.94 fps</option>
                    <option disabled>──────────</option>
                    <option value="60 fps">60 fps</option>
                    <option disabled>──────────</option>
                </select>
            </div>
            <div class="pair">
                <label for="projekt_color_science">Color Science:</label>
                <select id="projekt_color_science" onchange="updateSummary()">
                    <option disabled>──────────</option>
                    <option value="arri_logc_v3">ARRI Alexa LogC V3 (K1S1)</option>
                    <option disabled>──────────</option>
                    <option value="arri_logc_v4">ARRI Alexa LogC v4</option>
                    <option disabled>──────────</option>
                    <option value="adsk_aces_11">Autodesk ACES 1.1</option>
                    <option disabled>──────────</option>
                    <option value="adsk_aces_1">Autodesk ACES 1.0</option>
                    <option disabled>──────────</option>
                    <option value="adsk_linear">Autodesk Simple Linear Workflow</option>
                    <option disabled>──────────</option>
                    <option value="adsk_legacy">Autodesk Legacy Workflow</option>
                    <option disabled>──────────</option>
                    <!-- <option value="aces_11_sdr">R3D Log3g10 Red Wide Gamut RGB (Do Not Use)</option> -->
                    <!-- <option disabled>──────────</option> -->
                    <option value="sony_cine_709">Sony Cine+ 709</option>
                    <option disabled>──────────</option>
                    <option value="sony_lc_709">Sony Low Contrast 709</option>
                    <option disabled>──────────</option>
                    <option value="sony_lca_709">Sony Low Contrast 709 Type A (Alexa Emulation)</option>
                    <option disabled>──────────</option>
                    <option value="sony_slog2_709">Sony SLog2 709</option>
                    <option disabled>──────────</option>
                    <option value="adsk_aces_11">Apple Log (ADSK ACES 1.1)</option>
                    <option disabled>──────────</option>
                </select>
            </div>
            <div class="pair">
                <label for="start_frame">Start Frame:</label>
                <select id="start_frame" onchange="updateSummary()">
                    <option disabled>──────────</option>
                    <option value="1001">1001</option>
                    <option disabled>──────────</option>
                    <option value="1">1</option>
                    <option disabled>──────────</option>
                </select>
            </div>
        </div>
        <div class="button-container">
            <button onclick="generateProjektTemplate()">Generate LOGIK-PROJEKT Template</button>
        </div>
        <div class="summary-container">
            <h2>Summary</h2>
            <pre id="summary"></pre>
        </div>
    </div>

    <script>
        function cleanInput(input) {
            return input
                .toLowerCase()
                .replace(/\s+/g, '_')
                .replace(/[^a-z0-9_]/g, '');
        }

        document.addEventListener("DOMContentLoaded", function() {
            var defaultWidth = "1920";
            var defaultHeight = "1080";
            document.getElementById("projekt_resolution_w").value = defaultWidth;
            document.getElementById("projekt_resolution_h").value = defaultHeight;

            updateSummary();
        });

        function updateResolution() {
            var resolutionSelect = document.getElementById("projekt_resolution");
            var customResolutionDivW = document.getElementById("custom_resolution_w");
            var customResolutionDivH = document.getElementById("custom_resolution_h");
            var customResolutionWInput = document.getElementById("projekt_resolution_w");
            var customResolutionHInput = document.getElementById("projekt_resolution_h");

            var selectedResolution = resolutionSelect.value;

            if (selectedResolution === "Other") {
                customResolutionDivW.classList.remove("hidden");
                customResolutionDivH.classList.remove("hidden");
            } else {
                customResolutionDivW.classList.add("hidden");
                customResolutionDivH.classList.add("hidden");
                var resolutionParts = selectedResolution.split("x");
                var width = resolutionParts[0].trim();
                var height = resolutionParts[1].trim();
                customResolutionWInput.value = width;
                customResolutionHInput.value = height;
            }

            updateSummary();
        }

        function updateSummary() {
            const pairs = [
                { id: 'client_name', label: 'client name', clean: true },
                { id: 'campaign_name', label: 'campaign name', clean: true },
                { id: 'projekt_resolution', label: 'projekt resolution' },
                { id: 'projekt_bit_depth', label: 'projekt bit-depth' },
                { id: 'projekt_framerate', label: 'projekt framerate' },
                { id: 'projekt_color_science', label: 'projekt color science' },
                { id: 'start_frame', label: 'start frame' },
            ];
            
            let summaryContent = '';
            pairs.forEach(pair => {
                let value = document.getElementById(pair.id).value;
                if (pair.clean) {
                    value = cleanInput(value);
                }
                if (pair.id === 'projekt_resolution') {
                    const width = document.getElementById('projekt_resolution_w').value;
                    const height = document.getElementById('projekt_resolution_h').value;
                    value = `${width} x ${height}`;
                }
                summaryContent += `${pair.label}: ${value}\n`;
            });
            
            document.getElementById('summary').textContent = summaryContent;
        }

        function generateProjektTemplate() {
            updateSummary();
            const pairs = [
                { id: 'client_name', label: 'client name' },
                { id: 'campaign_name', label: 'campaign name' },
                { id: 'projekt_resolution', label: 'projekt resolution' },
                { id: 'projekt_bit_depth', label: 'projekt bit depth' },
                { id: 'projekt_framerate', label: 'projekt framerate' },
                { id: 'projekt_color_science', label: 'projekt color science' },
                { id: 'start_frame', label: 'start frame' },
            ];

            let textContent = '';
            let filenameParts = [];
            pairs.forEach(pair => {
                let value = document.getElementById(pair.id).value;
                if (pair.id === 'client_name' || pair.id === 'campaign_name') {
                    value = cleanInput(value);
                    filenameParts.push(value);
                }
                if (pair.id === 'projekt_resolution') {
                    const width = document.getElementById('projekt_resolution_w').value;
                    const height = document.getElementById('projekt_resolution_h').value;
                    value = `${width} x ${height}`;
                }
                textContent += `${pair.label}: ${value}\n`;
            });

            // Generate current date and time in the format YYYY-MM-DD-HH-MM in local time
            const currentDate = new Date();
            const year = currentDate.getFullYear();
            const month = String(currentDate.getMonth() + 1).padStart(2, '0');
            const day = String(currentDate.getDate()).padStart(2, '0');
            const hours = String(currentDate.getHours()).padStart(2, '0');
            const minutes = String(currentDate.getMinutes()).padStart(2, '0');
            const formattedDate = `${year}-${month}-${day}_${hours}-${minutes}`;

            // Combine filename parts including client_name, campaign_name, date, and time
            const filename = `projekt_setup_template_${formattedDate}_${filenameParts.join('_')}`;

            // Create Blob object and download link
            let blob = new Blob([textContent], { type: 'application/octet-stream' });
            let anchor = document.createElement('a');
            anchor.download = filename;
            anchor.href = window.URL.createObjectURL(blob);
            anchor.target = '_blank';
            anchor.style.display = 'none';
            document.body.appendChild(anchor);
            anchor.click();
            document.body.removeChild(anchor);
        }

        window.onload = updateSummary;
    </script>
</body>
</html>
